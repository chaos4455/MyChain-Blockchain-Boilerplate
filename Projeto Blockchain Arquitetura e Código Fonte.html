<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:x,mm:K}=window,P=new x.Toolbar;P.attach(K);const F=P.render();F.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(F)})})()</script><script>((b,L,T,D)=>{const H=b();window.mm=H.Markmap.create("svg#mindmap",(L||H.deriveOptions)(D),T)})(()=>window.markmap,null,{"content":"&#x1f680; Projeto Blockchain: Arquitetura e C&#xf3;digo Fonte","children":[{"content":"&#x1f4c5; Informa&#xe7;&#xf5;es Gerais","children":[{"content":"&#x1f5d3;&#xfe0f; Gerado em: 2025-02-19 06:39:59","children":[],"payload":{"tag":"li","lines":"16,17"}},{"content":"&#x1f4c2; Diret&#xf3;rio Raiz: <code>.</code>","children":[],"payload":{"tag":"li","lines":"17,18"}},{"content":"&#x1f3af; Objetivo: Documentar a estrutura e funcionamento do c&#xf3;digo fonte da blockchain.","children":[],"payload":{"tag":"li","lines":"18,20"}}],"payload":{"tag":"h2","lines":"15,16"}},{"content":"&#x1f5c2;&#xfe0f; Arquivo: core.py","children":[{"content":"&#x2699;&#xfe0f; Configura&#xe7;&#xf5;es","children":[{"content":"&#x1f511; Seguran&#xe7;a RSA:","children":[{"content":"Gera&#xe7;&#xe3;o de chaves","children":[],"payload":{"tag":"li","lines":"28,29"}},{"content":"Carregamento de chaves","children":[],"payload":{"tag":"li","lines":"29,30"}},{"content":"Assinatura e verifica&#xe7;&#xe3;o de dados","children":[],"payload":{"tag":"li","lines":"30,31"}}],"payload":{"tag":"li","lines":"27,31"}},{"content":"&#x1f9f1; Modelo de Dados:","children":[{"content":"&#x1f4b0; <code>Transaction</code>: Remetente, destinat&#xe1;rio, valor, assinatura","children":[],"payload":{"tag":"li","lines":"32,33"}},{"content":"&#x1f4e6; <code>Block</code>: &#xcd;ndice, timestamp, transa&#xe7;&#xf5;es, hash anterior, nonce, minerador, assinaturas dos n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"33,34"}},{"content":"&#x26d3;&#xfe0f; <code>BlockchainState</code>: Cadeia de blocos, transa&#xe7;&#xf5;es pendentes, chaves p&#xfa;blicas dos n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"34,35"}},{"content":"&#x1f5f3;&#xfe0f; <code>NodeRegistration</code>: Chave p&#xfa;blica para registro de n&#xf3;s","children":[],"payload":{"tag":"li","lines":"35,36"}}],"payload":{"tag":"li","lines":"31,36"}},{"content":"&#x1f4be; Estado da Blockchain:","children":[{"content":"&#x1f4ca; <code>blockchain_df</code>: DataFrame Pandas para a cadeia de blocos","children":[],"payload":{"tag":"li","lines":"37,38"}},{"content":"&#x23f3; <code>pending_transactions</code>: Lista de transa&#xe7;&#xf5;es pendentes","children":[],"payload":{"tag":"li","lines":"38,39"}},{"content":"&#x1f511; <code>master_node_public_keys</code>: Lista de chaves p&#xfa;blicas dos n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"39,40"}}],"payload":{"tag":"li","lines":"36,40"}},{"content":"&#x1f9e9; Fun&#xe7;&#xf5;es Blockchain:","children":[{"content":"&#x26cf;&#xfe0f; <code>proof_of_work</code>: Implementa&#xe7;&#xe3;o do Proof-of-Work","children":[],"payload":{"tag":"li","lines":"41,42"}},{"content":"genesis_block: Cria&#xe7;&#xe3;o do bloco G&#xea;nesis","children":[],"payload":{"tag":"li","lines":"42,43"}},{"content":"&#x2795; <code>add_block_to_blockchain</code>: Adiciona um bloco &#xe0; cadeia","children":[],"payload":{"tag":"li","lines":"43,44"}},{"content":"&#x1f50d; <code>get_last_block</code>: Retorna o &#xfa;ltimo bloco","children":[],"payload":{"tag":"li","lines":"44,45"}},{"content":"&#x1f4dc; <code>get_blockchain</code>: Retorna a cadeia completa","children":[],"payload":{"tag":"li","lines":"45,46"}},{"content":"&#x2795; <code>add_pending_transaction</code>: Adiciona uma transa&#xe7;&#xe3;o pendente","children":[],"payload":{"tag":"li","lines":"46,47"}},{"content":"&#x23f3; <code>get_pending_transactions</code>: Retorna transa&#xe7;&#xf5;es pendentes","children":[],"payload":{"tag":"li","lines":"47,48"}},{"content":"&#x1f9f9; <code>clear_pending_transactions</code>: Limpa transa&#xe7;&#xf5;es pendentes","children":[],"payload":{"tag":"li","lines":"48,49"}},{"content":"&#x2705; <code>is_valid_chain</code>: Valida a cadeia","children":[],"payload":{"tag":"li","lines":"49,50"}},{"content":"&#x1f511; <code>register_master_node</code>: Registra um n&#xf3; mestre","children":[],"payload":{"tag":"li","lines":"50,51"}},{"content":"&#x1f511; <code>get_master_node_public_keys</code>: Retorna chaves dos n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"51,52"}},{"content":"&#x2705; <code>is_valid_proof</code>: Valida o Proof-of-Work","children":[],"payload":{"tag":"li","lines":"52,53"}},{"content":"&#x2696;&#xfe0f; <code>calculate_balance</code>: Calcula o saldo de uma carteira","children":[],"payload":{"tag":"li","lines":"53,54"}},{"content":"&#x270d;&#xfe0f; <code>verify_transaction_signature</code>: Verifica a assinatura da transa&#xe7;&#xe3;o","children":[],"payload":{"tag":"li","lines":"54,55"}}],"payload":{"tag":"li","lines":"40,55"}},{"content":"&#x1f4be; Fun&#xe7;&#xf5;es de Persist&#xea;ncia (Banco de Dados):","children":[{"content":"&#x1f517; <code>connect_to_db</code>: Conecta ao banco de dados SQLite","children":[],"payload":{"tag":"li","lines":"56,57"}},{"content":"&#x1f3d7;&#xfe0f; <code>create_tables</code>: Cria as tabelas do banco de dados","children":[],"payload":{"tag":"li","lines":"57,58"}},{"content":"&#x1f4be; <code>persist_block_to_db</code>: Persiste um bloco no banco de dados","children":[],"payload":{"tag":"li","lines":"58,59"}},{"content":"&#x1f511; <code>persist_master_node_to_db</code>: Persiste a chave de um n&#xf3; mestre","children":[],"payload":{"tag":"li","lines":"59,60"}},{"content":"&#x1f511; <code>load_master_nodes_from_db</code>: Carrega as chaves dos n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"60,61"}},{"content":"&#x1f511; <code>get_public_key_for_address</code>: Retorna a chave p&#xfa;blica de um endere&#xe7;o","children":[],"payload":{"tag":"li","lines":"61,62"}},{"content":"&#x1f511; <code>persist_wallet_key_pair_to_db</code>: Persiste o par endere&#xe7;o-chave p&#xfa;blica","children":[],"payload":{"tag":"li","lines":"62,63"}},{"content":"&#x1f4dc; <code>load_blockchain_from_db</code>: Carrega a cadeia do banco de dados","children":[],"payload":{"tag":"li","lines":"63,64"}}],"payload":{"tag":"li","lines":"55,64"}},{"content":"&#x1f6e3;&#xfe0f; Rotas FastAPI:","children":[{"content":"&#x2795; <code>/register_node</code>: Registra um n&#xf3; mestre","children":[],"payload":{"tag":"li","lines":"65,66"}},{"content":"&#x1f4dc; <code>/blockchain</code>: Retorna a cadeia de blocos","children":[],"payload":{"tag":"li","lines":"66,67"}},{"content":"&#x2795; <code>/transaction</code>: Adiciona uma transa&#xe7;&#xe3;o","children":[],"payload":{"tag":"li","lines":"67,68"}},{"content":"&#x2705; <code>/confirm_block</code>: Confirma um bloco","children":[],"payload":{"tag":"li","lines":"68,69"}},{"content":"&#x1f511; <code>/master_nodes</code>: Lista os n&#xf3;s mestres","children":[],"payload":{"tag":"li","lines":"69,70"}},{"content":"&#x23f3; <code>/pending_transactions</code>: Lista as transa&#xe7;&#xf5;es pendentes","children":[],"payload":{"tag":"li","lines":"70,71"}},{"content":"&#x2696;&#xfe0f; <code>/balance/{address}</code>: Consulta o saldo de uma carteira","children":[],"payload":{"tag":"li","lines":"71,72"}},{"content":"&#x1f511; <code>/register_wallet</code>: Registra uma carteira","children":[],"payload":{"tag":"li","lines":"72,73"}},{"content":"&#x1f511; <code>/get_public_key/{address}</code>: Obt&#xe9;m a chave p&#xfa;blica de um endere&#xe7;o","children":[],"payload":{"tag":"li","lines":"73,74"}}],"payload":{"tag":"li","lines":"64,74"}},{"content":"&#x2699;&#xfe0f; Inicializa&#xe7;&#xe3;o:","children":[{"content":"<code>initialize</code>: Cria tabelas, carrega dados e cria o bloco G&#xea;nesis","children":[],"payload":{"tag":"li","lines":"75,76"}}],"payload":{"tag":"li","lines":"74,76"}},{"content":"&#x1f680; Execu&#xe7;&#xe3;o:","children":[{"content":"Inicia o servidor Uvicorn","children":[],"payload":{"tag":"li","lines":"77,79"}}],"payload":{"tag":"li","lines":"76,79"}}],"payload":{"tag":"h3","lines":"26,27"}},{"content":"&#x1f4dc; Docstrings (Documenta&#xe7;&#xe3;o):","children":[{"content":"<code>generate_keys</code>: Gera um par de chaves RSA.","children":[],"payload":{"tag":"li","lines":"80,81"}},{"content":"<code>load_key</code>: Carrega uma chave RSA.","children":[],"payload":{"tag":"li","lines":"81,82"}},{"content":"<code>sign_data</code>: Calcula o hash SHA-256 do bloco.","children":[],"payload":{"tag":"li","lines":"82,83"}},{"content":"<code>is_valid</code>: Cria e adiciona o bloco G&#xea;nesis.","children":[],"payload":{"tag":"li","lines":"83,84"}},{"content":"<code>add_block_to_blockchain</code>: Adiciona um bloco e persiste no banco de dados.","children":[],"payload":{"tag":"li","lines":"84,85"}},{"content":"<code>get_last_block</code>: Adiciona uma transa&#xe7;&#xe3;o &#xe0; lista de transa&#xe7;&#xf5;es pendentes.","children":[],"payload":{"tag":"li","lines":"85,86"}},{"content":"<code>get_pending_transactions</code>: Remove uma lista de transa&#xe7;&#xf5;es da lista de transa&#xe7;&#xf5;es pendentes.","children":[],"payload":{"tag":"li","lines":"86,87"}},{"content":"<code>is_valid_chain</code>: Registra a chave p&#xfa;blica de um n&#xf3; mestre.","children":[],"payload":{"tag":"li","lines":"87,88"}},{"content":"<code>get_master_node_public_keys</code>: Estabelece e retorna uma conex&#xe3;o com o banco de dados SQLite.","children":[],"payload":{"tag":"li","lines":"88,89"}},{"content":"<code>create_tables</code>: Cria as tabelas do banco de dados.","children":[],"payload":{"tag":"li","lines":"89,90"}},{"content":"<code>persist_block_to_db</code>: Persiste os dados de um bloco.","children":[],"payload":{"tag":"li","lines":"90,91"}},{"content":"<code>persist_master_node_to_db</code>: Persiste a chave p&#xfa;blica de um n&#xf3; mestre.","children":[],"payload":{"tag":"li","lines":"91,92"}},{"content":"<code>load_master_nodes_from_db</code>: Carrega as chaves p&#xfa;blicas dos n&#xf3;s mestres.","children":[],"payload":{"tag":"li","lines":"92,93"}},{"content":"<code>get_public_key_for_address</code>: Persiste o par endere&#xe7;o-chave p&#xfa;blica.","children":[],"payload":{"tag":"li","lines":"93,94"}},{"content":"<code>load_blockchain_from_db</code>: Carrega a blockchain completa do banco de dados.","children":[],"payload":{"tag":"li","lines":"94,95"}},{"content":"<code>NodeRegistration</code>: Rota para registrar um novo n&#xf3; mestre.","children":[],"payload":{"tag":"li","lines":"95,96"}},{"content":"<code>get_chain</code>: Rota para retornar a blockchain completa.","children":[],"payload":{"tag":"li","lines":"96,97"}},{"content":"<code>add_transaction</code>: Rota para adicionar uma nova transa&#xe7;&#xe3;o.","children":[],"payload":{"tag":"li","lines":"97,98"}},{"content":"<code>BlockConfirmation</code>: Rota para confirmar um bloco minerado.","children":[],"payload":{"tag":"li","lines":"98,99"}},{"content":"<code>validate_and_add_block</code>: Rota para listar as chaves p&#xfa;blicas dos n&#xf3;s mestres.","children":[],"payload":{"tag":"li","lines":"99,100"}},{"content":"<code>get_pending_tx</code>: Rota para retornar a lista de transa&#xe7;&#xf5;es pendentes.","children":[],"payload":{"tag":"li","lines":"100,101"}},{"content":"<code>get_balance</code>: Rota para consultar o saldo de uma carteira.","children":[],"payload":{"tag":"li","lines":"101,102"}},{"content":"<code>register_wallet</code>: Rota para registrar uma nova carteira.","children":[],"payload":{"tag":"li","lines":"102,103"}},{"content":"<code>get_public_key_route</code>: Rota para obter a chave p&#xfa;blica de um endere&#xe7;o.","children":[],"payload":{"tag":"li","lines":"103,104"}},{"content":"<code>initialize</code>: Inicializa o aplicativo.","children":[],"payload":{"tag":"li","lines":"104,106"}}],"payload":{"tag":"h3","lines":"79,80"}}],"payload":{"tag":"h2","lines":"20,21"}},{"content":"&#x1f5c2;&#xfe0f; Arquivo: documenta-projeto-v1.py","children":[{"content":"&#x2699;&#xfe0f; Fun&#xe7;&#xf5;es","children":[{"content":"<code>analisar_arquivo_py</code>: Analisa um arquivo Python e retorna informa&#xe7;&#xf5;es.","children":[],"payload":{"tag":"li","lines":"113,114"}},{"content":"<code>gerar_documentacao</code>: Gera a documenta&#xe7;&#xe3;o do c&#xf3;digo fonte.","children":[],"payload":{"tag":"li","lines":"114,115"}},{"content":"<code>extrair_docstrings</code>: Extrai docstrings de fun&#xe7;&#xf5;es e classes.","children":[],"payload":{"tag":"li","lines":"115,117"}}],"payload":{"tag":"h3","lines":"112,113"}},{"content":"&#x1f4dc; Docstrings (Documenta&#xe7;&#xe3;o):","children":[{"content":"<code>analisar_arquivo_py</code>: Analisa um arquivo Python e retorna informa&#xe7;&#xf5;es.","children":[],"payload":{"tag":"li","lines":"118,119"}},{"content":"<code>gerar_documentacao</code>: Gera a documenta&#xe7;&#xe3;o do c&#xf3;digo fonte.","children":[],"payload":{"tag":"li","lines":"119,120"}},{"content":"<code>extrair_docstrings</code>: Extrai docstrings de fun&#xe7;&#xf5;es e classes.","children":[],"payload":{"tag":"li","lines":"120,122"}}],"payload":{"tag":"h3","lines":"117,118"}}],"payload":{"tag":"h2","lines":"106,107"}},{"content":"&#x1f5c2;&#xfe0f; Arquivo: testerv1.py","children":[{"content":"&#x2699;&#xfe0f; Fun&#xe7;&#xf5;es","children":[{"content":"<code>generate_keys</code>: Gera um par de chaves RSA.","children":[],"payload":{"tag":"li","lines":"129,130"}},{"content":"<code>load_key</code>: Carrega uma chave RSA.","children":[],"payload":{"tag":"li","lines":"130,131"}},{"content":"<code>sign_data</code>: Assina dados com a chave privada.","children":[],"payload":{"tag":"li","lines":"131,132"}},{"content":"<code>register_wallet</code>: Registra uma carteira na blockchain.","children":[],"payload":{"tag":"li","lines":"132,133"}},{"content":"<code>create_transaction</code>: Cria e envia uma transa&#xe7;&#xe3;o.","children":[],"payload":{"tag":"li","lines":"133,134"}},{"content":"<code>wait_for_block</code>: Espera at&#xe9; que um novo bloco seja minerado.","children":[],"payload":{"tag":"li","lines":"134,135"}},{"content":"<code>load_wallets</code>: Carrega as carteiras do arquivo JSON e YAML.","children":[],"payload":{"tag":"li","lines":"135,136"}},{"content":"<code>save_wallets</code>: Salva as carteiras nos arquivos JSON e YAML.","children":[],"payload":{"tag":"li","lines":"136,137"}},{"content":"<code>save_transactions_data</code>: Salva os dados das transa&#xe7;&#xf5;es em JSON e YAML.","children":[],"payload":{"tag":"li","lines":"137,139"}}],"payload":{"tag":"h3","lines":"128,129"}},{"content":"&#x1f4dc; Docstrings (Documenta&#xe7;&#xe3;o):","children":[{"content":"<code>generate_keys</code>: Gera um par de chaves RSA.","children":[],"payload":{"tag":"li","lines":"140,141"}},{"content":"<code>load_key</code>: Carrega uma chave RSA.","children":[],"payload":{"tag":"li","lines":"141,142"}},{"content":"<code>sign_data</code>: Registra uma carteira na blockchain.","children":[],"payload":{"tag":"li","lines":"142,143"}},{"content":"<code>create_transaction</code>: Cria e envia uma transa&#xe7;&#xe3;o assinada.","children":[],"payload":{"tag":"li","lines":"143,144"}},{"content":"<code>wait_for_block</code>: Espera at&#xe9; que um novo bloco seja minerado.","children":[],"payload":{"tag":"li","lines":"144,145"}},{"content":"<code>load_wallets</code>: Carrega as carteiras do arquivo JSON e YAML.","children":[],"payload":{"tag":"li","lines":"145,146"}},{"content":"<code>save_wallets</code>: Salva as carteiras nos arquivos JSON e YAML com UTF-8 encoding.","children":[],"payload":{"tag":"li","lines":"146,147"}},{"content":"<code>save_transactions_data</code>: Salva os dados das transa&#xe7;&#xf5;es em JSON e YAML.","children":[],"payload":{"tag":"li","lines":"147,149"}}],"payload":{"tag":"h3","lines":"139,140"}}],"payload":{"tag":"h2","lines":"122,123"}},{"content":"&#x1f5c2;&#xfe0f; Arquivo: validator.py","children":[{"content":"&#x2699;&#xfe0f; Fun&#xe7;&#xf5;es","children":[{"content":"<code>make_api_request</code>: Faz uma requisi&#xe7;&#xe3;o &#xe0; API com retry e backoff exponencial.","children":[],"payload":{"tag":"li","lines":"156,157"}},{"content":"<code>register_master_node_if_needed</code>: Registra o n&#xf3; mestre na blockchain.","children":[],"payload":{"tag":"li","lines":"157,159"}}],"payload":{"tag":"h3","lines":"155,156"}},{"content":"&#x1f4dc; Docstrings (Documenta&#xe7;&#xe3;o):","children":[{"content":"<code>make_api_request</code>: Faz uma requisi&#xe7;&#xe3;o &#xe0; API com retry e backoff exponencial.","children":[],"payload":{"tag":"li","lines":"160,161"}},{"content":"<code>register_master_node_if_needed</code>: Registra o n&#xf3; mestre na blockchain.","children":[],"payload":{"tag":"li","lines":"161,163"}}],"payload":{"tag":"h3","lines":"159,160"}}],"payload":{"tag":"h2","lines":"149,150"}},{"content":"&#x1f4da; Refer&#xea;ncias","children":[{"content":"<a href=\"https://markmap.js.org/\">Markmap</a>: Para a cria&#xe7;&#xe3;o de mapas mentais.","children":[],"payload":{"tag":"li","lines":"164,165"}},{"content":"<a href=\"https://fastapi.tiangolo.com/\">FastAPI</a>: Framework web utilizado.","children":[],"payload":{"tag":"li","lines":"165,166"}},{"content":"<a href=\"https://pyyaml.org/\">PyYAML</a>: Biblioteca para trabalhar com arquivos YAML.","children":[],"payload":{"tag":"li","lines":"166,167"}},{"content":"<a href=\"https://rich.readthedocs.io/\">Rich</a>: Biblioteca para formata&#xe7;&#xe3;o de texto no terminal.","children":[],"payload":{"tag":"li","lines":"167,168"}}],"payload":{"tag":"h2","lines":"163,164"}}],"payload":{"tag":"h1","lines":"12,13"}},{"initialExpandLevel":2,"maxWidth":1200,"height":800,"nodeMinHeight":20,"spacingVertical":5,"spacingHorizontal":80,"colorFreezeLevel":3})</script>
</body>
</html>
